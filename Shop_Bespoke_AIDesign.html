<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="Logo/webLOGOpart_icon_w_TRANSBG.png" type="image/x-icon">
    <title>Linkly Bespoke - AI è¾…åŠ©è®¾è®¡</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        :root {
            --bg-color: #000000;
            --panel-bg: #111111;
            --text-primary: #ffffff;
            --text-secondary: #86868b;
            --accent-ai: #a855f7; /* AI ä¸“å±ç´«è‰² */
            --accent-gold: #d4af37;
            --border-color: #333333;
            --input-bg: #1c1c1e;
            --nav-height: 52px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", sans-serif; }
        
        body { 
            background-color: var(--bg-color); 
            color: var(--text-primary); 
            -webkit-font-smoothing: antialiased;
            line-height: 1.5;
        }

        /* å¯¼èˆªæ  */
        .glass-nav {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }
        .navbar-links a { color: white; text-decoration: none; font-size: 0.875rem; transition: font-weight 0.3s ease; }
        .navbar-links a:hover { font-weight: bold; color: #2997ff; }
        .navbar-links a.active { font-weight: bold; color: white; }
        .navbar-btns .buy-btn:hover { background-color: #2997ff; color: white; font-weight: bold; }
        .navbar-btns .login-btn:hover { color: #2997ff; font-weight: bold; }

        /* ä¸»å¸ƒå±€ */
        .main-container {
            max-width: 1200px; margin: 0 auto; padding: calc(var(--nav-height) + 40px) 20px 80px;
            min-height: 100vh;
        }

        .header-section { margin-bottom: 60px; text-align: center; }
        .bespoke-tag { 
            display: inline-block; padding: 4px 12px; border-radius: 20px; 
            font-size: 11px; font-weight: 700; margin-bottom: 16px;
            text-transform: uppercase; letter-spacing: 0.1em;
            background: rgba(168, 85, 247, 0.15); color: var(--accent-ai); border: 1px solid rgba(168, 85, 247, 0.3);
        }
        .page-title { font-size: 48px; font-weight: 700; line-height: 1.1; color: #fff; margin-bottom: 12px; letter-spacing: -0.02em; }
        .page-sub { font-size: 20px; color: var(--text-secondary); max-width: 600px; margin: 0 auto; font-weight: 400; }

        .bespoke-layout {
            display: grid; grid-template-columns: 1.2fr 1fr; gap: 60px; align-items: start;
        }

        /* --- å·¦ä¾§ï¼šAI æ¸²æŸ“ç”»å¸ƒ --- */
        .ai-stage {
            position: sticky; top: 100px;
            background: #0a0a0a; border-radius: 32px;
            border: 1px solid var(--border-color);
            min-height: 700px;
            display: flex; flex-direction: column; align-items: center;
            overflow: hidden; padding: 40px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        /* æ¸²æŸ“å¡ç‰‡å®¹å™¨ */
        .render-container {
            position: relative; width: 340px; height: 540px; /* ç«–ç‰ˆæ¯”ä¾‹ï¼Œæˆ–è€…æ ¹æ®éœ€è¦æ”¹ä¸ºæ¨ªç‰ˆ */
            perspective: 1500px; margin-bottom: 40px;
            display: flex; align-items: center; justify-content: center;
        }

        .generated-card {
            width: 100%; height: 100%; position: relative;
            transform-style: preserve-3d; transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border-radius: 20px;
            box-shadow: 0 30px 60px -15px rgba(0,0,0,0.8);
        }
        
        .card-face {
            position: absolute; width: 100%; height: 100%;
            backface-visibility: hidden; border-radius: 20px; overflow: hidden;
            background: #1c1c1e; border: 1px solid rgba(255,255,255,0.1);
            display: flex; align-items: center; justify-content: center;
        }
        .card-back { transform: rotateY(180deg); }

        .placeholder-content { text-align: center; color: var(--text-secondary); padding: 20px; }
        .placeholder-icon { width: 48px; height: 48px; margin-bottom: 16px; opacity: 0.3; }

        /* æ¸²æŸ“å›¾ç‰‡ */
        .render-img { width: 100%; height: 100%; object-fit: cover; display: none; opacity: 0; transition: opacity 0.5s; }
        .render-img.show { display: block; opacity: 1; }

        /* AI ç”ŸæˆæŒ‰é’® */
        .ai-action-area { width: 100%; max-width: 340px; z-index: 10; }
        
        .generate-btn {
            width: 100%; padding: 18px; border-radius: 16px;
            background: linear-gradient(135deg, #7c3aed, #2563eb);
            color: #fff; font-size: 16px; font-weight: 600; border: none; cursor: pointer;
            transition: all 0.3s; position: relative; overflow: hidden;
            display: flex; align-items: center; justify-content: center; gap: 10px;
            box-shadow: 0 0 20px rgba(124, 58, 237, 0.3);
        }
        .generate-btn:hover { transform: scale(1.02); box-shadow: 0 0 30px rgba(124, 58, 237, 0.5); }
        .generate-btn:disabled { opacity: 0.7; cursor: not-allowed; transform: none; }
        
        .btn-shimmer {
            position: absolute; top: 0; left: -100%; width: 50%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: skewX(-20deg); animation: shimmer 3s infinite;
        }

        @keyframes shimmer { 0% { left: -100%; } 20% { left: 200%; } 100% { left: 200%; } }

        /* è§†å›¾åˆ‡æ¢å™¨ */
        .view-toggle {
            display: flex; gap: 10px; margin-bottom: 20px;
        }
        .toggle-dot {
            width: 8px; height: 8px; border-radius: 50%; background: #333; cursor: pointer; transition: 0.3s;
        }
        .toggle-dot.active { background: var(--text-primary); transform: scale(1.2); }

        /* Loading æ•ˆæœ */
        .ai-loader {
            position: absolute; inset: 0; background: rgba(0,0,0,0.8); backdrop-filter: blur(10px);
            display: none; flex-direction: column; align-items: center; justify-content: center;
            z-index: 20; border-radius: 20px;
        }
        .loader-ring {
            width: 50px; height: 50px; border: 3px solid rgba(255,255,255,0.1);
            border-top-color: var(--accent-ai); border-radius: 50%;
            animation: spin 1s linear infinite; margin-bottom: 16px;
        }
        .loader-text { font-size: 13px; color: var(--accent-ai); font-weight: 500; letter-spacing: 1px; animation: pulse 1.5s infinite; }

        @keyframes spin { to { transform: rotate(360deg); } }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

        /* --- å³ä¾§ï¼šPrompt é…ç½® --- */
        .config-panel { padding-top: 0; }
        .config-section { margin-bottom: 40px; }
        .config-label { font-size: 15px; font-weight: 600; margin-bottom: 12px; display: block; color: #e5e5e5; text-transform: uppercase; letter-spacing: 0.05em; }
        
        .prompt-textarea {
            width: 100%; min-height: 120px; padding: 16px;
            background: #1c1c1e; border: 1px solid var(--border-color); border-radius: 12px;
            color: #fff; font-size: 14px; line-height: 1.6; resize: vertical;
            transition: 0.2s;
        }
        .prompt-textarea:focus { border-color: var(--accent-ai); outline: none; box-shadow: 0 0 0 2px rgba(168, 85, 247, 0.2); }

        .tag-cloud { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px; }
        .ai-tag {
            padding: 6px 14px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px; font-size: 12px; color: #ccc; cursor: pointer; transition: 0.2s;
        }
        .ai-tag:hover { background: rgba(255,255,255,0.1); color: #fff; }
        .ai-tag.selected { background: rgba(168, 85, 247, 0.2); border-color: var(--accent-ai); color: var(--accent-ai); }

        .input-group { display: grid; gap: 16px; margin-bottom: 20px; }
        .input-field {
            width: 100%; padding: 14px 16px; border-radius: 10px; border: 1px solid var(--border-color);
            background: var(--input-bg); color: #fff; font-size: 14px; outline: none; transition: 0.2s;
        }
        .input-field:focus { border-color: var(--accent-ai); }

        /* åº•éƒ¨æ“ä½œ */
        .action-bar { margin-top: 60px; padding-top: 30px; border-top: 1px solid var(--border-color); }
        .final-btn {
            width: 100%; padding: 18px; border-radius: 14px;
            background: #fff; color: #000; font-size: 17px; font-weight: 600; border: none; cursor: pointer;
            transition: 0.2s; text-align: center; display: block; text-decoration: none;
        }
        .final-btn:hover { background: #e5e5e5; }
        .final-desc { text-align: center; margin-top: 16px; font-size: 13px; color: #666; }

        @media (max-width: 900px) {
            .bespoke-layout { grid-template-columns: 1fr; gap: 40px; }
            .ai-stage { position: relative; top: 0; min-height: 500px; padding: 20px; }
            .render-container { width: 100%; max-width: 300px; height: 480px; }
        }
    </style>
</head>
<body>

    <nav class="fixed top-0 w-full z-50 glass-nav transition-all duration-300">
        <div class="max-w-[980px] mx-auto px-6 h-12 flex items-center justify-between">
            <div class="nav-content">
                <a href="index.html" class="nav-link" style="display: flex; align-items: center;">
                    <img src="Logo/darkBGver.png" alt="Linkly Logo" style="max-height: 28px; width: auto;">
                </a>
            </div>
            <div class="hidden md:flex items-center gap-8 navbar-links">
                 <a href="Shop_General.html" class="text-sm hover:text-blue-500">å•†åº—</a>
                 <a href="AI_Detailed_2.html" class="text-sm hover:text-blue-500">AI</a>
                 <a href="Contact_Us.html" class="text-sm hover:text-blue-500">è”ç³»</a>
            </div>
            <div class="flex items-center gap-4 text-[0.875rem] navbar-btns">
                 <a href="ShopBag.html" class="text-[#e8e8ed] hover:text-blue-400">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                    </svg>
                </a>
            </div>
        </div>
    </nav>

<div class="main-container">
    
    <div class="header-section">
        <span class="bespoke-tag">AI Generative Design</span>
        <h1 class="page-title">AI çµæ„Ÿç”Ÿæˆå™¨</h1>
        <p class="page-sub">æè¿°æ‚¨çš„å“ç‰Œæ„¿æ™¯ï¼ŒLinkly AI å°†ä¸ºæ‚¨ç”Ÿæˆç‹¬ä¸€æ— äºŒçš„å¡ç‰‡è®¾è®¡æ–¹æ¡ˆã€‚<br>æ”¯æŒå¤šæ¬¡è¿­ä»£ï¼Œç›´è‡³æ»¡æ„ã€‚</p>
    </div>

    <div class="bespoke-layout">
        
        <div class="ai-stage">
            <div class="view-toggle">
                <div class="toggle-dot active" onclick="flipCard('front')" title="æŸ¥çœ‹æ­£é¢"></div>
                <div class="toggle-dot" onclick="flipCard('back')" title="æŸ¥çœ‹èƒŒé¢"></div>
            </div>

            <div class="render-container" id="card-3d">
                <div class="card-face card-front">
                    <div class="ai-loader" id="loader-front">
                        <div class="loader-ring"></div>
                        <div class="loader-text">AI RENDERING...</div>
                    </div>
                    <div class="placeholder-content" id="ph-front">
                        <svg class="placeholder-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                        <p class="text-sm font-medium">è®¾è®¡é¢„è§ˆ (æ­£é¢)</p>
                        <p class="text-xs mt-2 opacity-50">ç­‰å¾…ç”Ÿæˆ...</p>
                    </div>
                    <img id="img-result-front" class="render-img" src="" alt="AI Generated Front">
                </div>
                
                <div class="card-face card-back">
                    <div class="ai-loader" id="loader-back">
                        <div class="loader-ring"></div>
                        <div class="loader-text">GENERATING QR...</div>
                    </div>
                    <div class="placeholder-content" id="ph-back">
                        <svg class="placeholder-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 4v1m6 11h2m-6 0h-2v4h2v-4zM5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                        <p class="text-sm font-medium">è®¾è®¡é¢„è§ˆ (èƒŒé¢)</p>
                        <p class="text-xs mt-2 opacity-50">ç­‰å¾…ç”Ÿæˆ...</p>
                    </div>
                    <img id="img-result-back" class="render-img" src="" alt="AI Generated Back">
                </div>
            </div>

            <div class="ai-action-area">
                <button class="generate-btn" id="btn-generate" onclick="generateDesign()">
                    <div class="btn-shimmer"></div>
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                    <span>å¼€å§‹ AI æ¸²æŸ“</span>
                </button>
                <!-- <p class="text-[10px] text-gray-500 text-center mt-3">æ¶ˆè€— 10 Linkly Credits / æ¬¡</p> -->
            </div>
        </div>

        <div class="config-panel">
            
            <div class="config-section">
                <span class="config-label">1. æ ¸å¿ƒä¿¡æ¯ (Prompt)</span>
                <div class="input-group">
                    <input type="text" class="input-field" id="p-name" placeholder="å§“å / å“ç‰Œåç§° (ä¾‹: Alex Chen)">
                    <input type="text" class="input-field" id="p-title" placeholder="èŒä½ / Slogan (ä¾‹: Product Designer)">
                </div>
            </div>

            <div class="config-section">
                <span class="config-label">2. è®¾è®¡é£æ ¼æè¿°</span>
                <textarea class="prompt-textarea" id="p-desc" placeholder="æè¿°æ‚¨æƒ³è¦çš„é£æ ¼ã€‚ä¾‹å¦‚ï¼šæç®€ä¸»ä¹‰ï¼Œæ·±é‚ƒçš„é»‘è‰²èƒŒæ™¯ï¼Œå¸¦æœ‰é‡‘è‰²çš„å‡ ä½•çº¿æ¡ï¼Œèµ›åšæœ‹å…‹éœ“è™¹å…‰æ•ˆï¼Œæˆ–è€…æ˜¯æ¸©æš–çš„æœ¨è´¨çº¹ç†..."></textarea>
                
                <div class="tag-cloud">
                    <span class="ai-tag" onclick="addTag('æç®€é»‘é‡‘')">âœ¨ æç®€é»‘é‡‘</span>
                    <span class="ai-tag" onclick="addTag('èµ›åšæœ‹å…‹')">ğŸ¤– èµ›åšæœ‹å…‹</span>
                    <span class="ai-tag" onclick="addTag('ç£¨ç ‚ç»ç’ƒè´¨æ„Ÿ')">ğŸŒ« ç£¨ç ‚ç»ç’ƒ</span>
                    <span class="ai-tag" onclick="addTag('ç‘å£«å¹³é¢è®¾è®¡')">ğŸ‡¨ğŸ‡­ ç‘å£«é£æ ¼</span>
                    <span class="ai-tag" onclick="addTag('å…¨æ¯æ¸å˜')">ğŸŒˆ å…¨æ¯æ¸å˜</span>
                    <span class="ai-tag" onclick="addTag('3D ç«‹ä½“æµ®é›•')">ğŸ§Š 3D æµ®é›•</span>
                </div>
            </div>

            <div class="config-section">
                <span class="config-label">3. å“ç‰Œè‰²ç³»</span>
                <div class="input-group">
                     <input type="text" class="input-field" id="p-color" placeholder="ä¾‹: #0071E3, æ½˜é€šè“, æˆ–â€œæ·±é‚ƒçš„æµ·æ´‹è“â€">
                </div>
            </div>

            <div class="action-bar">
                <button class="final-btn" onclick="confirmDesign()">ç¡®è®¤æ­¤è®¾è®¡å¹¶ä¸‹å•</button>
                <p class="final-desc">ç¡®è®¤åï¼Œæˆ‘ä»¬å°†è¿›è¡Œäººå·¥å¾®è°ƒä»¥ç¡®ä¿å°åˆ·æ ‡å‡†ã€‚</p>
            </div>

        </div>
    </div>
</div>

<script>
    // ç¿»è½¬æ§åˆ¶
    let isFlipped = false;
    function flipCard(side) {
        const card = document.querySelector('.generated-card');
        const dots = document.querySelectorAll('.toggle-dot');
        
        if (side === 'back' || (side === 'toggle' && !isFlipped)) {
            card.style.transform = 'rotateY(180deg)';
            isFlipped = true;
            dots[0].classList.remove('active');
            dots[1].classList.add('active');
        } else {
            card.style.transform = 'rotateY(0deg)';
            isFlipped = false;
            dots[1].classList.remove('active');
            dots[0].classList.add('active');
        }
    }

    // å¿«æ·æ ‡ç­¾æ·»åŠ 
    function addTag(text) {
        const textarea = document.getElementById('p-desc');
        const current = textarea.value;
        if (current) {
            textarea.value = current + ', ' + text;
        } else {
            textarea.value = text;
        }
        // é«˜äº®ä¸€ä¸‹
        textarea.focus();
    }

    // --- æ ¸å¿ƒï¼šAI ç”Ÿæˆé€»è¾‘ ---
    async function generateDesign() {
        const btn = document.getElementById('btn-generate');
        const loaderFront = document.getElementById('loader-front');
        const loaderBack = document.getElementById('loader-back');
        const phFront = document.getElementById('ph-front');
        const phBack = document.getElementById('ph-back');
        const imgFront = document.getElementById('img-result-front');
        const imgBack = document.getElementById('img-result-back');

        // 1. è·å–ç”¨æˆ·è¾“å…¥
        const promptData = {
            name: document.getElementById('p-name').value,
            title: document.getElementById('p-title').value,
            desc: document.getElementById('p-desc').value,
            color: document.getElementById('p-color').value
        };

        if(!promptData.desc) {
            alert("è¯·è‡³å°‘è¾“å…¥ä¸€äº›è®¾è®¡é£æ ¼æè¿°ï¼Œä»¥ä¾¿ AI å‘æŒ¥ã€‚");
            return;
        }

        // 2. è¿›å…¥ Loading çŠ¶æ€
        btn.disabled = true;
        btn.innerHTML = `<span class="animate-spin">âœ¨</span> æ­£åœ¨æ„æ€è®¾è®¡...`;
        
        // è‡ªåŠ¨ç¿»å›æ­£é¢
        flipCard('front');
        
        // æ˜¾ç¤ºåŠ è½½é®ç½©
        loaderFront.style.display = 'flex';
        // å»¶è¿Ÿæ˜¾ç¤ºèƒŒé¢çš„åŠ è½½ (æ¨¡æ‹Ÿç”Ÿæˆé¡ºåº)
        setTimeout(() => loaderBack.style.display = 'flex', 1500);

        // 3. è°ƒç”¨ AI æ¥å£ (æ­¤å¤„ä¸ºæ¨¡æ‹Ÿé€»è¾‘)
        // ============================================================
        // çœŸå®å¼€å‘æ—¶ï¼Œåœ¨æ­¤å¤„ fetch åç«¯ API
        // const res = await fetch('/api/generate-card', { 
        //    method: 'POST', 
        //    body: JSON.stringify(promptData) 
        // });
        // const data = await res.json();
        // const imageUrl = data.url;
        // ============================================================

        // --- æ¨¡æ‹Ÿç”Ÿæˆè¿‡ç¨‹ (3ç§’) ---
        await new Promise(r => setTimeout(r, 3000));

        // 4. è·å–ç»“æœ (æ¨¡æ‹Ÿå›¾ç‰‡æº)
        // è¿™é‡Œä½¿ç”¨ Unsplash éšæœºå›¾æ¨¡æ‹Ÿ "ç”Ÿæˆç»“æœ"ï¼Œå®é™…åº”æ›¿æ¢ä¸º API è¿”å›çš„ Base64 æˆ– URL
        const randomSeed = Date.now();
        const mockFrontUrl = `https://images.unsplash.com/photo-1620641788421-7a1c342ea42e?q=80&w=1000&auto=format&fit=crop&seed=${randomSeed}`; 
        // (æŠ½è±¡æ¸å˜å›¾ä»£è¡¨æ­£é¢)
        const mockBackUrl = `https://images.unsplash.com/photo-1550684848-fac1c5b4e853?q=80&w=1000&auto=format&fit=crop&seed=${randomSeed}`; 
        // (æ·±è‰²çº¹ç†ä»£è¡¨èƒŒé¢)

        // 5. æ¸²æŸ“ç»“æœ
        imgFront.src = mockFrontUrl;
        imgBack.src = mockBackUrl;

        imgFront.onload = () => {
            loaderFront.style.display = 'none';
            phFront.style.display = 'none';
            imgFront.classList.add('show');
        };
        
        imgBack.onload = () => {
            loaderBack.style.display = 'none';
            phBack.style.display = 'none';
            imgBack.classList.add('show');
        };

        // 6. æ¢å¤æŒ‰é’®
        btn.innerHTML = `<span>âœ¨ é‡æ–°ç”Ÿæˆ</span>`;
        btn.disabled = false;
    }

    function confirmDesign() {
        const imgFront = document.getElementById('img-result-front');
        if (!imgFront.classList.contains('show')) {
            alert("è¯·å…ˆç”Ÿæˆè®¾è®¡æ–¹æ¡ˆã€‚");
            return;
        }
        
        const btn = document.querySelector('.final-btn');
        btn.innerText = "æ­£åœ¨åˆ›å»ºè®¢å•...";
        btn.disabled = true;
        
        setTimeout(() => {
            alert("è®¾è®¡å·²ä¿å­˜ï¼å·²åŠ å…¥æ‚¨çš„è´­ç‰©è½¦ã€‚\n(Design ID: AI-" + Date.now().toString().slice(-6) + ")");
            // æ­¤å¤„å¯è·³è½¬åˆ° ShopBag æˆ– Checkout
            window.location.href = 'ShopBag.html';
        }, 1500);
    }
</script>

</body>
</html>